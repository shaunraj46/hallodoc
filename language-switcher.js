// Language translations
const translations = {
    en: {
        // Navigation
        "features": "Features",
        "how-it-works": "How It Works",
        "benefits": "Benefits",
        "faq": "FAQ",
        "get-started": "Get Started",
        
        // Hero section
        "hero-title": "Let Patients Book Appointments via WhatsApp",
        "hero-subtitle": "Automated booking, rescheduling, and cancellations — so your team doesn't have to answer every call or email.",
        "start-free": "Start Free – 1 Year for Early Clinics",
        "chat-whatsapp": "Chat on WhatsApp",
        
        // Problem section
        "problem-title": "The Problem with Traditional Booking",
        "problem-description": "Medical practices spend hours each day handling appointment calls, emails, and managing various booking platforms.",
        "time-consumption": "Time Consumption",
        "time-consumption-desc": "Your staff spends 2-3 hours daily on the phone managing appointments instead of focusing on patient care.",
        "expensive-software": "Expensive Software",
        "expensive-software-desc": "Current booking solutions cost €200+ monthly and require patients to download yet another app or create accounts.",
        "missed-opportunities": "Missed Opportunities",
        "missed-opportunities-desc": "Up to 30% of calls go unanswered during busy hours, resulting in lost appointments and dissatisfied patients.",
        
        // Solution section
        "solution-title": "Meet Your WhatsApp Appointment Assistant",
        "solution-desc": "HalloDoc integrates directly with WhatsApp to automate your appointment management without requiring patients to download new apps.",
        "solution-feature-1": "Patients book, reschedule, or cancel appointments 24/7 via WhatsApp",
        "solution-feature-2": "Automatic synchronization with your existing calendar systems",
        "solution-feature-3": "Smart reminders and follow-ups to reduce no-shows by up to 40%",
        "solution-feature-4": "Keep your staff focused on patient care, not phone calls",
        
        // How it works section
        "how-title": "How It Works",
        "how-description": "Simple 3-step setup gets your virtual appointment assistant running in less than a day.",
        "step-1": "Connect Your Calendar",
        "step-1-desc": "We integrate with Google Calendar, Outlook, or your existing practice management software.",
        "step-2": "Customize Your Assistant",
        "step-2-desc": "Define your appointment types, durations, available slots, and customized messages.",
        "step-3": "Share With Patients",
        "step-3-desc": "Add the booking link to your website or share it directly with patients to start booking via WhatsApp.",
        
        // Benefits section
        "benefits-title": "Benefits That Matter",
        "benefits-desc": "We've designed HalloDoc to solve real problems for medical practices.",
        "benefit-1": "No App Required",
        "benefit-1-desc": "Uses WhatsApp—already on 90% of patients' phones",
        "benefit-2": "GDPR-Compliant",
        "benefit-2-desc": "Fully compliant with European data protection regulations",
        "benefit-3": "Hosted in Germany",
        "benefit-3-desc": "Highest standard of data security and privacy protection",
        "benefit-4": "24/7 Availability",
        "benefit-4-desc": "Patients can book anytime, even outside office hours",
        "benefit-5": "Multilingual",
        "benefit-5-desc": "Supports German, English, Turkish, and more languages",
        "benefit-6": "Reduces No-Shows",
        "benefit-6-desc": "Automatic reminders 24 hours before appointments",
        "benefit-7": "Easy Integration",
        "benefit-7-desc": "Works with your existing calendar and practice software",
        "benefit-8": "Full Support",
        "benefit-8-desc": "Personalized onboarding and ongoing technical support",
        
        // Early access section
        "early-access-title": "Limited Time Offer",
        "early-access-desc": "Get 12 months free for the first 5 clinics in Ingolstadt!",
        "early-access-1": "No setup or hidden fees",
        "early-access-2": "Priority access to new features",
        "early-access-3": "Cancel anytime, no long-term commitment",
        "form-title": "Request Early Access",
        "clinic-name": "Clinic Name",
        "email-address": "Email Address",
        "phone-number": "Phone Number",
        "agree-terms": "I agree to the privacy policy and terms",
        "reserve-spot": "Reserve My Spot",
        
        // FAQ section
        "faq-title": "Frequently Asked Questions",
        "faq-subtitle": "Everything you need to know about our WhatsApp appointment assistant.",
        "faq-1-q": "How does the WhatsApp integration work?",
        "faq-1-a": "HalloDoc uses WhatsApp's official Business API to create a seamless booking experience. Patients chat with your appointment assistant just like they would message a friend. The bot handles the entire conversation flow, from asking what type of appointment they need to showing available slots and confirming bookings.",
        "faq-2-q": "Can I customize the booking flow and messages?",
        "faq-2-a": "Yes! You can fully customize the chatbot's responses, available appointment types, durations, working hours, and more. We'll help you set up the system to match your clinic's specific workflow and communication style.",
        "faq-3-q": "What if a patient has a complex request?",
        "faq-3-a": "The system is designed to handle routine bookings automatically. For complex requests, the chatbot can recognize when human assistance is needed and will forward the conversation to your staff. You won't miss any important patient communications.",
        "faq-4-q": "How much does it cost after the free year?",
        "faq-4-a": "After your free year, plans start at €69/month for small practices. We offer tiered pricing based on the number of practitioners and appointment volume. You'll receive a reminder before your free period ends, with no obligation to continue.",
        "faq-5-q": "Is patient data secure and GDPR-compliant?",
        "faq-5-a": "Absolutely. We take data protection very seriously. All data is stored on secure servers in Germany, fully compliant with GDPR and medical data protection regulations. We use end-to-end encryption for all communications, and we never sell or share patient data with third parties.",
        
        // Footer
        "product": "Product",
        "legal": "Legal",
        "contact": "Contact",
        "privacy-policy": "Privacy Policy",
        "terms": "Terms of Service",
        "impressum": "Impressum",
        "gdpr": "GDPR Compliance",
        "copyright": "© 2025 HalloDoc. All rights reserved.",
        "made-by": "Made by"
    },
    de: {
        // Navigation
        "features": "Funktionen",
        "how-it-works": "So funktioniert's",
        "benefits": "Vorteile",
        "faq": "FAQ",
        "get-started": "Jetzt starten",
        
        // Hero section
        "hero-title": "Patienten buchen Termine über WhatsApp",
        "hero-subtitle": "Automatisierte Terminbuchung, -verschiebung und -stornierung – damit Ihr Team nicht jeden Anruf oder jede E-Mail beantworten muss.",
        "start-free": "Kostenlos starten – 1 Jahr für frühe Praxen",
        "chat-whatsapp": "Via WhatsApp chatten",
        
        // Problem section
        "problem-title": "Das Problem mit herkömmlicher Terminbuchung",
        "problem-description": "Arztpraxen verbringen täglich Stunden mit der Bearbeitung von Terminanrufen, E-Mails und der Verwaltung verschiedener Buchungsplattformen.",
        "time-consumption": "Zeitaufwand",
        "time-consumption-desc": "Ihr Personal verbringt täglich 2-3 Stunden am Telefon mit der Verwaltung von Terminen, anstatt sich auf die Patientenversorgung zu konzentrieren.",
        "expensive-software": "Teure Software",
        "expensive-software-desc": "Aktuelle Buchungslösungen kosten monatlich über 200 € und erfordern, dass Patienten eine weitere App herunterladen oder Konten erstellen.",
        "missed-opportunities": "Verpasste Chancen",
        "missed-opportunities-desc": "Bis zu 30% der Anrufe bleiben in Stoßzeiten unbeantwortet, was zu verlorenen Terminen und unzufriedenen Patienten führt.",
        
        // Solution section
        "solution-title": "Ihr WhatsApp-Terminassistent",
        "solution-desc": "HalloDoc integriert sich direkt in WhatsApp, um Ihre Terminverwaltung zu automatisieren, ohne dass Patienten neue Apps herunterladen müssen.",
        "solution-feature-1": "Patienten buchen, verschieben oder stornieren Termine rund um die Uhr über WhatsApp",
        "solution-feature-2": "Automatische Synchronisierung mit Ihren bestehenden Kalendersystemen",
        "solution-feature-3": "Intelligente Erinnerungen und Nachfragen, um Nichterscheinen um bis zu 40% zu reduzieren",
        "solution-feature-4": "Ihr Personal konzentriert sich auf die Patientenversorgung, nicht auf Telefonanrufe",
        
        // How it works section
        "how-title": "So funktioniert's",
        "how-description": "Ein einfaches 3-Schritte-Setup bringt Ihren virtuellen Terminassistenten in weniger als einem Tag zum Laufen.",
        "step-1": "Kalender verbinden",
        "step-1-desc": "Wir integrieren Google Kalender, Outlook oder Ihre bestehende Praxismanagement-Software.",
        "step-2": "Assistenten anpassen",
        "step-2-desc": "Definieren Sie Ihre Terminarten, Dauern, verfügbaren Slots und individuellen Nachrichten.",
        "step-3": "Mit Patienten teilen",
        "step-3-desc": "Fügen Sie den Buchungslink zu Ihrer Website hinzu oder teilen Sie ihn direkt mit Patienten, um die Buchung über WhatsApp zu starten.",
        
        // Benefits section
        "benefits-title": "Entscheidende Vorteile",
        "benefits-desc": "Wir haben HalloDoc entwickelt, um echte Probleme von Arztpraxen zu lösen.",
        "benefit-1": "Keine App erforderlich",
        "benefit-1-desc": "Nutzt WhatsApp – bereits auf 90% der Patientenhandys installiert",
        "benefit-2": "DSGVO-konform",
        "benefit-2-desc": "Vollständig konform mit europäischen Datenschutzbestimmungen",
        "benefit-3": "In Deutschland gehostet",
        "benefit-3-desc": "Höchster Standard für Datensicherheit und Datenschutz",
        "benefit-4": "24/7 Verfügbarkeit",
        "benefit-4-desc": "Patienten können jederzeit buchen, auch außerhalb der Öffnungszeiten",
        "benefit-5": "Mehrsprachig",
        "benefit-5-desc": "Unterstützt Deutsch, Englisch, Türkisch und weitere Sprachen",
        "benefit-6": "Reduziert Nichterscheinen",
        "benefit-6-desc": "Automatische Erinnerungen 24 Stunden vor Terminen",
        "benefit-7": "Einfache Integration",
        "benefit-7-desc": "Funktioniert mit Ihrem bestehenden Kalender und Ihrer Praxissoftware",
        "benefit-8": "Voller Support",
        "benefit-8-desc": "Persönliches Onboarding und laufender technischer Support",
        
        // Early access section
        "early-access-title": "Zeitlich begrenztes Angebot",
        "early-access-desc": "Erhalten Sie 12 Monate kostenlos für die ersten 5 Praxen in Ingolstadt!",
        "early-access-1": "Keine Einrichtungs- oder versteckten Gebühren",
        "early-access-2": "Vorrangiger Zugang zu neuen Funktionen",
        "early-access-3": "Jederzeit kündbar, keine langfristige Bindung",
        "form-title": "Frühzeitigen Zugang anfragen",
        "clinic-name": "Praxisname",
        "email-address": "E-Mail-Adresse",
        "phone-number": "Telefonnummer",
        "agree-terms": "Ich stimme den Datenschutzbestimmungen und Bedingungen zu",
        "reserve-spot": "Meinen Platz reservieren",
        
        // FAQ section
        "faq-title": "Häufig gestellte Fragen",
        "faq-subtitle": "Alles, was Sie über unseren WhatsApp-Terminassistenten wissen müssen.",
        "faq-1-q": "Wie funktioniert die WhatsApp-Integration?",
        "faq-1-a": "HalloDoc verwendet die offizielle Business-API von WhatsApp, um ein nahtloses Buchungserlebnis zu schaffen. Patienten chatten mit Ihrem Terminassistenten, genau wie sie mit einem Freund chatten würden. Der Bot übernimmt den gesamten Gesprächsablauf, vom Fragen nach der Art des Termins bis hin zum Anzeigen verfügbarer Zeitfenster und der Bestätigung von Buchungen.",
        "faq-2-q": "Kann ich den Buchungsablauf und die Nachrichten anpassen?",
        "faq-2-a": "Ja! Sie können die Antworten des Chatbots, verfügbare Terminarten, Dauern, Arbeitszeiten und mehr vollständig anpassen. Wir helfen Ihnen, das System so einzurichten, dass es zum spezifischen Arbeitsablauf und Kommunikationsstil Ihrer Praxis passt.",
        "faq-3-q": "Was passiert, wenn ein Patient eine komplexe Anfrage hat?",
        "faq-3-a": "Das System ist darauf ausgelegt, Routinebuchungen automatisch zu bearbeiten. Bei komplexen Anfragen kann der Chatbot erkennen, wann menschliche Hilfe benötigt wird, und leitet das Gespräch an Ihr Personal weiter. Sie verpassen keine wichtigen Patientenkommunikationen.",
        "faq-4-q": "Was kostet es nach dem kostenlosen Jahr?",
        "faq-4-a": "Nach Ihrem kostenlosen Jahr beginnen die Pläne bei 69 €/Monat für kleine Praxen. Wir bieten gestaffelte Preise basierend auf der Anzahl der Ärzte und dem Terminvolumen. Sie erhalten eine Erinnerung, bevor Ihre kostenlose Periode endet, ohne Verpflichtung zur Fortsetzung.",
        "faq-5-q": "Sind Patientendaten sicher und DSGVO-konform?",
        "faq-5-a": "Absolut. Wir nehmen den Datenschutz sehr ernst. Alle Daten werden auf sicheren Servern in Deutschland gespeichert, vollständig konform mit DSGVO und medizinischen Datenschutzbestimmungen. Wir verwenden Ende-zu-Ende-Verschlüsselung für alle Kommunikationen und verkaufen oder teilen niemals Patientendaten mit Dritten.",
        
        // Footer
        "product": "Produkt",
        "legal": "Rechtliches",
        "contact": "Kontakt",
        "privacy-policy": "Datenschutzerklärung",
        "terms": "Nutzungsbedingungen",
        "impressum": "Impressum",
        "gdpr": "DSGVO-Konformität",
        "copyright": "© 2025 HalloDoc. Alle Rechte vorbehalten.",
        "made-by": "Erstellt von"
    }
};

// Function to initialize the language switcher
function initLanguageSwitcher() {
    // Get current language from localStorage or default to English
    const currentLang = localStorage.getItem('hallodoc-language') || 'en';
    
    // Set initial language
    setLanguage(currentLang);
    
    // Desktop language toggle
    const languageToggle = document.getElementById('language-toggle');
    const languageDropdown = document.getElementById('language-dropdown');
    
    if (languageToggle && languageDropdown) {
        languageToggle.addEventListener('click', (e) => {
            e.preventDefault();
            languageDropdown.classList.toggle('hidden');
        });
    }
    
    // Mobile language toggle
    const mobileLanguageToggle = document.getElementById('mobile-language-toggle');
    const mobileLanguageDropdown = document.getElementById('mobile-language-dropdown');
    
    if (mobileLanguageToggle && mobileLanguageDropdown) {
        mobileLanguageToggle.addEventListener('click', (e) => {
            e.preventDefault();
            mobileLanguageDropdown.classList.toggle('hidden');
        });
    }
    
    // Language selection
    document.querySelectorAll('[data-lang]').forEach(item => {
        item.addEventListener('click', (e) => {
            e.preventDefault();
            const lang = item.getAttribute('data-lang');
            setLanguage(lang);
            
            // Hide dropdowns
            if (languageDropdown) {
                languageDropdown.classList.add('hidden');
            }
            if (mobileLanguageDropdown) {
                mobileLanguageDropdown.classList.add('hidden');
            }
        });
    });
    
    // Close dropdown when clicking outside
    document.addEventListener('click', (e) => {
        if (languageToggle && languageDropdown) {
            if (!languageToggle.contains(e.target) && !languageDropdown.contains(e.target)) {
                languageDropdown.classList.add('hidden');
            }
        }
    });
}

// Function to set the language
function setLanguage(lang) {
    // Save language preference
    localStorage.setItem('hallodoc-language', lang);
    
    // Update current language display
    const currentLanguageElem = document.getElementById('current-language');
    const mobileCurrentLanguageElem = document.getElementById('mobile-current-language');
    
    if (currentLanguageElem) {
        currentLanguageElem.textContent = lang === 'en' ? 'English' : 'Deutsch';
    }
    if (mobileCurrentLanguageElem) {
        mobileCurrentLanguageElem.textContent = lang === 'en' ? 'English' : 'Deutsch';
    }
    
    // Update all translatable elements
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });
    
    // Update placeholders
    document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        if (translations[lang][key]) {
            element.placeholder = translations[lang][key];
        }
    });
    
    // Update html attributes (like aria-label)
    document.querySelectorAll('[data-i18n-attr]').forEach(element => {
        const data = element.getAttribute('data-i18n-attr').split(',');
        if (data.length === 2) {
            const attr = data[0];
            const key = data[1];
            if (translations[lang][key]) {
                element.setAttribute(attr, translations[lang][key]);
            }
        }
    });
}